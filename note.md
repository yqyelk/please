# 笔记

## 中断任务

### 1、中断的概念？

​    中断指在处理器处理事件A时，出现了事件B，令处理器中断正处理的事件A，转而进行事件B的处理，待事件B处理完成后，从中断处继续处理A事件的过程。

### 2、为什么要有中断？

​    由教程知：
​    中断可以解决快速CPU与慢速外部设备之间数据传输的矛盾。
​    中断令CPU可以分别为多个外部设备服务，提高计算机的利用率。
​    中断令CPU能够及时处理应用系统的随机事件，增强系统的实时性。
​    中断令CPU可以处理掉电等突发特殊情况，提高系统可靠性。

### 3、中断的处理流程？

​    中断源发出中断信号后，判断该中断源的中断请求是否成立(是否屏蔽?)然后根据设定好的中断优先级排队(高级断低级)处理器暂停当前程序，保护断点地址、处理器状态，根据中断类型号(系统设的)查中断量表转至对应程序，执行完毕后通过中断返回指令回到被中断的程序。

### 4、HAL库中中断的调用流程？

​    由资料知：
​    先进行中断跳转以跳转到该中断所对应的中断服务程序。
​    执行在stm32fxx_it.c中对应的中断服务程序。
​    判断中断标志并清除，调用外部中断回调函数。
​    最后执行用户所编写的具体中断任务处理。

   ![IMG_5744](C:\Users\PC\Desktop\IMG_5744.PNG)

## 串口通信任务

### 1、什么是通信协议?

​    串口通信协议是指规定了数据包的内容，内容包含了起始位、主体数据、校验位及停止位。

### 2、为什么要有通信协议？

​    双方需要约定一致的数据包格式才能正常收发数据。

### 3、串口通信的物理层？

​    连接各设备的数据线支撑了数据的收发。

### 4、串口通信的协议层？

​    一种通信协议，规定了起始信号、校验位、停止信号是什么，这样约定了信号发送的“形式”，以正常收发数据。

### 5、数据帧？

​    一般数据传输是逐字节发送信号的，而如果将一串小信号编一起，套上帧头帧尾，就形成了一个数据帧。

### 6、校验位？

​    在有效数据之后，停止信号之前有一个可选的校验位防止数据通信受到干扰而产生偏差。

### 7、波特率？

   异步串行通信的通信速率，具体指每秒传送二进制数码的位数，以bit/s(bps)为单位。

### 8、串口有哪几种中断？哪些事件可以触发串口中断？

1、发送数据寄存器空中断。                                                                          2、发送完成中断。                                                                                             3、接收数据寄存器中断。                                                                                                                                                                                                                                    4、线路空闲中断。